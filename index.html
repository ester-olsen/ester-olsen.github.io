<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ester's Jumpstart deck builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body class="container pb-4">
    <h1 class="border-bottom mt-4">Ester's Jumpstart deck builder</h1>
    <p>Ester Olsen 2022-05-07</p>
    <p>This deck builder's purpose is to make it more convenient to play Jumpstart on the website <a href="https://untap.in/">untap.in</a> — deck lists are formatted accordingly.</p>
    <ol>
        <li><a href="#load-packs">Load packs</a></li>
        <li><a href="#two-pack">Two-pack Jumpstart</a></li>
        <li><a href="#four-pack">Four-pack Jumpstart</a></li>
    </ol>
    <h2 id="load-packs" class="border-bottom mt-4">Load packs</h2>
    <p>Load packs from a file, or load Ester's Jumpstart cube.</p>
    <div id="load-file">
        <h3 class="border-bottom mt-4">File</h3>
        <p>Using the input below, load a CSV file containing the following columns.</p>
        <p class="font-monospace">Pack name,Pack image URL,Card set ID,Card name</p>
        <p>The first row is skipped over. All fields are strings encapsulated by quotation marks.</p>
        <div>
            <label for="file-input" class="form-label">CSV file</label>
            <input type="file" id="file-input" class="form-control mb-3" />
        </div>
    </div>
    <div id="load-esters-cube">
        <h3 class="border-bottom mt-4">Ester's Jumpstart cube</h3>
        <p>This cube consists of sixteen packs from the official Jumpstart set — three monocolour packs of each colour, and the multicolour Rainbow pack — plus a custom bears pack and a custom gorgons pack.</p>
        <p><button type="button" id="esters-cube-button" class="btn btn-primary">Load Ester's Jumpstart cube</button></p>
    </div>
    <div id="two-pack">
        <h2 class="border-bottom mt-4">Two-pack Jumpstart</h2>
        <figure>
            <blockquote cite="https://magic.wizards.com/en/articles/archive/card-preview/behind-scenes-designing-jumpstart-2020-06-17" class="blockquote">
                <p>In Two-Pack, you just open two packs and shuffle them together, and you're ready to play. That's the absolute simplest way to play Jumpstart. No agonizing over your twenty-third card or whether to run that off-color cycling land—just fire it up.</p>
            </blockquote>
            <figcaption class="blockquote-footer">https://magic.wizards.com/en/articles/archive/card-preview/behind-scenes-designing-jumpstart-2020-06-17</figcaption>
        </figure>
    </div>
    <div id="four-pack">
        <h2 class="border-bottom mt-4">Four-pack Jumpstart</h2>
        <figure>
            <blockquote cite="https://magic.wizards.com/en/articles/archive/card-preview/behind-scenes-designing-jumpstart-2020-06-17" class="blockquote">
                <p>To play Four-Pack Jumpstart, open four Jumpstart packs and lay out your four themes in front of you. Create two 40-card decks by combining pairs of themes together however you like.</p>
                <p>For example, if the themes I opened were Teferi, Predatory, Walls, and Spellcasting, I might build "Predatory Walls" and "Spellcasting Teferi" as my two decks. Remove the theme label cards, shuffle your two decks separately, and you're ready to play.</p>
                <p>Find an opponent and play a Best-of-Three match. Each player chooses whichever of their two decks they want for the first game, then each player switches to their other deck for game two. Then, after game two, if no player has two wins yet, each player may pick either of their decks for the deciding game three.</p>
                <p>For example, I might choose to play Spellcasting Teferi in game one. In game two, I must switch to my other deck, Predatory Walls. Then if there's a game three, I could choose to play either Spellcasting Teferi or Predatory Walls.</p>
            </blockquote>
            <figcaption class="blockquote-footer">https://magic.wizards.com/en/articles/archive/card-preview/behind-scenes-designing-jumpstart-2020-06-17</figcaption>
        </figure>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        const estersCube = `Pack name,Pack image URL,Card set ID,Card name
"Dogs 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/7/76/JMP_Dogs_pack_summary_card.jpg","jmp","Affa Guard Hound"
"Dogs 1","","jmp","Supply Runners"
"Dogs 1","","jmp","Cathar's Companion"
"Dogs 1","","jmp","Trusty Retriever"
"Dogs 1","","jmp","Pack Leader"
"Dogs 1","","jmp","Selfless Savior"
"Dogs 1","","jmp","Alpine Watchdog"
"Dogs 1","","jmp","Rambunctious Mutt"
"Dogs 1","","jmp","Release the Dogs"
"Dogs 1","","jmp","Secure the Scene"
"Dogs 1","","jmp","Feat of Resistance"
"Dogs 1","","jmp","Pacifism"
"Dogs 1","","jmp","Thriving Heath"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Dogs 1","","jmp","Plains"
"Angels 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/d/d2/JMP_Angels_pack_summary_card.jpg","jmp","Emancipation Angel"
"Angels 1","","jmp","Serra Angel"
"Angels 1","","jmp","Angelic Page"
"Angels 1","","jmp","Voice of the Provinces"
"Angels 1","","jmp","Baneslayer Angel"
"Angels 1","","jmp","Anointed Chorister"
"Angels 1","","jmp","Celestial Enforcer"
"Angels 1","","jmp","Angelic Edict"
"Angels 1","","jmp","Angelic Ascension"
"Angels 1","","jmp","Feat of Resistance"
"Angels 1","","jmp","Guardian Idol"
"Angels 1","","jmp","Scroll of Avacyn"
"Angels 1","","jmp","Thriving Heath"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Angels 1","","jmp","Plains"
"Heavily Armored 2","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/9/9b/JMP_Heavily_Armored_pack_summary_card.jpg","jmp","Patron of the Valiant"
"Heavily Armored 2","","jmp","Bulwark Giant"
"Heavily Armored 2","","jmp","Trusty Retriever"
"Heavily Armored 2","","jmp","Lightwalker"
"Heavily Armored 2","","jmp","Tempered Veteran"
"Heavily Armored 2","","jmp","Siege Striker"
"Heavily Armored 2","","jmp","Makeshift Battalion"
"Heavily Armored 2","","jmp","Basri's Acolyte"
"Heavily Armored 2","","jmp","Gird for Battle"
"Heavily Armored 2","","jmp","Secure the Scene"
"Heavily Armored 2","","jmp","Battlefield Promotion"
"Heavily Armored 2","","jmp","Cathars' Crusade"
"Heavily Armored 2","","jmp","Thriving Heath"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Heavily Armored 2","","jmp","Plains"
"Spirits 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/d/d5/JMP_Spirits_pack_summary_card.jpg","jmp","Battleground Geist"
"Spirits 1","","jmp","Departed Deckhand"
"Spirits 1","","jmp","Nebelgast Herald"
"Spirits 1","","jmp","Murmuring Phantasm"
"Spirits 1","","jmp","Shacklegeist"
"Spirits 1","","jmp","Roaming Ghostlight"
"Spirits 1","","jmp","Tome Anima"
"Spirits 1","","jmp","Winged Words"
"Spirits 1","","jmp","Essence Flux"
"Spirits 1","","jmp","Befuddle"
"Spirits 1","","jmp","Frost Breath"
"Spirits 1","","jmp","Capture Sphere"
"Spirits 1","","jmp","Thriving Isle"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Spirits 1","","jmp","Island"
"Well-Read 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/6/6d/JMP_Well-Read_pack_summary_card.jpg","jmp","Suspicious Bookcase"
"Well-Read 1","","jmp","Ormos, Archive Keeper"
"Well-Read 1","","jmp","Oneirophage"
"Well-Read 1","","jmp","Erratic Visionary"
"Well-Read 1","","jmp","Runed Servitor"
"Well-Read 1","","jmp","Tolarian Kraken"
"Well-Read 1","","jmp","Tome Anima"
"Well-Read 1","","jmp","Library Larcenist"
"Well-Read 1","","jmp","Opt"
"Well-Read 1","","jmp","Curiosity"
"Well-Read 1","","jmp","Narcolepsy"
"Well-Read 1","","jmp","Rousing Read"
"Well-Read 1","","jmp","Thriving Isle"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Well-Read 1","","jmp","Island"
"Pirates 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/9/9c/JMP_Pirates_pack_summary_card.jpg","jmp","Rishadan Airship"
"Pirates 1","","jmp","Corsair Captain"
"Pirates 1","","jmp","Departed Deckhand"
"Pirates 1","","jmp","Spectral Sailor"
"Pirates 1","","jmp","Kitesail Corsair"
"Pirates 1","","jmp","Prosperous Pirates"
"Pirates 1","","jmp","Sailor of Means"
"Pirates 1","","jmp","Chart a Course"
"Pirates 1","","jmp","Voyage's End"
"Pirates 1","","jmp","Pirate's Cutlass"
"Pirates 1","","jmp","Coastal Piracy"
"Pirates 1","","jmp","Waterknot"
"Pirates 1","","jmp","Thriving Isle"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Pirates 1","","jmp","Island"
"Vampires 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/a/a5/JMP_Vampires_pack_summary_card.jpg","jmp","Blood Artist"
"Vampires 1","","jmp","Bloodbond Vampire"
"Vampires 1","","jmp","Gifted Aetherborn"
"Vampires 1","","jmp","Kalastria Nightwatch"
"Vampires 1","","jmp","Nocturnal Feeder"
"Vampires 1","","jmp","Vito, Thorn of the Dusk Rose"
"Vampires 1","","jmp","Silversmote Ghoul"
"Vampires 1","","jmp","Gloom Sower"
"Vampires 1","","jmp","Agonizing Syphon"
"Vampires 1","","jmp","Sanguine Indulgence"
"Vampires 1","","jmp","Last Gasp"
"Vampires 1","","jmp","Eternal Thirst"
"Vampires 1","","jmp","Thriving Moor"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Vampires 1","","jmp","Swamp"
"Reanimated 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/a/ab/JMP_Reanimated_pack_summary_card.jpg","jmp","Mire Triton"
"Reanimated 1","","jmp","Cadaver Imp"
"Reanimated 1","","jmp","Crow of Dark Tidings"
"Reanimated 1","","jmp","Miasmic Mummy"
"Reanimated 1","","jmp","Tithebearer Giant"
"Reanimated 1","","jmp","Archfiend's Vessel"
"Reanimated 1","","jmp","Goremand"
"Reanimated 1","","jmp","Crypt Lurker"
"Reanimated 1","","jmp","Reanimate"
"Reanimated 1","","jmp","Funeral Rites"
"Reanimated 1","","jmp","Rise Again"
"Reanimated 1","","jmp","Eliminate"
"Reanimated 1","","jmp","Thriving Moor"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Reanimated 1","","jmp","Swamp"
"Witchcraft 2","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/1/13/JMP_Witchcraft_pack_summary_card.jpg","jmp","Tempting Witch"
"Witchcraft 2","","jmp","Bogbrew Witch"
"Witchcraft 2","","jmp","Witch of the Moors"
"Witchcraft 2","","jmp","Swarm of Bloodflies"
"Witchcraft 2","","jmp","Black Cat"
"Witchcraft 2","","jmp","Bloodhunter Bat"
"Witchcraft 2","","jmp","Festering Newt"
"Witchcraft 2","","jmp","Festering Newt"
"Witchcraft 2","","jmp","Blood Divination"
"Witchcraft 2","","jmp","Bake into a Pie"
"Witchcraft 2","","jmp","Last Gasp"
"Witchcraft 2","","jmp","Bubbling Cauldron"
"Witchcraft 2","","jmp","Thriving Moor"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Witchcraft 2","","jmp","Swamp"
"Ester's Gorgons","ester's-gorgons-theme.png","jou","Pharika's Chosen"
"Ester's Gorgons","","khm","Elderfang Disciple"
"Ester's Gorgons","","thb","Pharika's Spawn"
"Ester's Gorgons","","thb","Venomous Hierophant"
"Ester's Gorgons","","cn2","Keepsake Gorgon"
"Ester's Gorgons","","m13","Xathrid Gorgon"
"Ester's Gorgons","","gtc","Killing Glare"
"Ester's Gorgons","","vow","Hero's Downfall"
"Ester's Gorgons","","ddm","Night's Whisper"
"Ester's Gorgons","","jou","Aspect of Gorgon"
"Ester's Gorgons","","grn","Pitiless Gorgon"
"Ester's Gorgons","","war","Vraska, Swarm's Eminence"
"Ester's Gorgons","","jmp","Thriving Moor"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Ester's Gorgons","","jmp","Swamp"
"Dragons 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/5/50/JMP_Dragons_pack_summary_card.jpg","jmp","Dragonloft Idol"
"Dragons 1","","jmp","Rapacious Dragon"
"Dragons 1","","jmp","Dragonspeaker Shaman"
"Dragons 1","","jmp","Dragon Hatchling"
"Dragons 1","","jmp","Lightning Shrieker"
"Dragons 1","","jmp","Terror of the Peaks"
"Dragons 1","","jmp","Hellkite Punisher"
"Dragons 1","","jmp","Bathe in Dragonfire"
"Dragons 1","","jmp","Dragon Fodder"
"Dragons 1","","jmp","Draconic Roar"
"Dragons 1","","jmp","Thrill of Possibility"
"Dragons 1","","jmp","Thriving Bluff"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Dragons 1","","jmp","Mountain"
"Lightning 2","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/b/b2/JMP_Lightning_pack_summary_card.jpg","jmp","Ball Lightning"
"Lightning 2","","jmp","Lightning Phoenix"
"Lightning 2","","jmp","Living Lightning"
"Lightning 2","","jmp","Weaver of Lightning"
"Lightning 2","","jmp","Lightning Visionary"
"Lightning 2","","jmp","Lightning Visionary"
"Lightning 2","","jmp","Lightning Elemental"
"Lightning 2","","jmp","Lightning-Core Excavator"
"Lightning 2","","jmp","Chain Lightning"
"Lightning 2","","jmp","Lightning Axe"
"Lightning 2","","jmp","Riddle of Lightning"
"Lightning 2","","jmp","Lightning Diadem"
"Lightning 2","","jmp","Thriving Bluff"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Lightning 2","","jmp","Mountain"
"Smashing 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/7/7a/JMP_Smashing_pack_summary_card.jpg","jmp","Bloodrage Brawler"
"Smashing 1","","jmp","Flametongue Kavu"
"Smashing 1","","jmp","Borderland Marauder"
"Smashing 1","","jmp","Heartfire Immolator"
"Smashing 1","","jmp","Onakke Ogre"
"Smashing 1","","jmp","Turret Ogre"
"Smashing 1","","jmp","Bone Pit Brute"
"Smashing 1","","jmp","Volcanic Salvo"
"Smashing 1","","jmp","Fling"
"Smashing 1","","jmp","Unleash Fury"
"Smashing 1","","jmp","Shock"
"Smashing 1","","jmp","Furious Rise"
"Smashing 1","","jmp","Thriving Bluff"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Smashing 1","","jmp","Mountain"
"Cats 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/a/a9/JMP_Cats_pack_summary_card.jpg","jmp","Keeper of Fables"
"Cats 1","","jmp","Initiate's Companion"
"Cats 1","","jmp","Pouncing Cheetah"
"Cats 1","","jmp","Feral Prowler"
"Cats 1","","jmp","Feline Sovereign"
"Cats 1","","jmp","Canopy Stalker"
"Cats 1","","jmp","Sabertooth Mauler"
"Cats 1","","jmp","Pridemalkin"
"Cats 1","","jmp","Enlarge"
"Cats 1","","jmp","Nature's Way"
"Cats 1","","jmp","Crushing Canopy"
"Cats 1","","jmp","Feral Invocation"
"Cats 1","","jmp","Thriving Grove"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Cats 1","","jmp","Forest"
"Plus One 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/a/a9/JMP_Plus_One_pack_summary_card.jpg","jmp","Armorcraft Judge"
"Plus One 1","","jmp","Nessian Hornbeetle"
"Plus One 1","","jmp","Ironshell Beetle"
"Plus One 1","","jmp","Fertilid"
"Plus One 1","","jmp","Wildwood Scourge"
"Plus One 1","","jmp","Trufflesnout"
"Plus One 1","","jmp","Pridemalkin"
"Plus One 1","","jmp","Hunter's Edge"
"Plus One 1","","jmp","Arbor Armament"
"Plus One 1","","jmp","Invigorating Surge"
"Plus One 1","","jmp","Primeval Bounty"
"Plus One 1","","jmp","Thriving Grove"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Plus One 1","","jmp","Forest"
"Predatory 1","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/2/21/JMP_Predatory_pack_summary_card.jpg","jmp","Somberwald Stag"
"Predatory 1","","jmp","Sylvan Brushstrider"
"Predatory 1","","jmp","Neyith of the Dire Hunt"
"Predatory 1","","jmp","Brindle Shoat"
"Predatory 1","","jmp","Dawntreader Elk"
"Predatory 1","","jmp","Trufflesnout"
"Predatory 1","","jmp","Sabertooth Mauler"
"Predatory 1","","jmp","Irresistible Prey"
"Predatory 1","","jmp","Time to Feed"
"Predatory 1","","jmp","Crushing Canopy"
"Predatory 1","","jmp","Fungal Rebirth"
"Predatory 1","","jmp","Marauder's Axe"
"Predatory 1","","jmp","Thriving Grove"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Predatory 1","","jmp","Forest"
"Ester's Bears","ester's-bears-theme.png","mh1","Ayula, Queen Among Bears"
"Ester's Bears","","mb1","Bear Cub"
"Ester's Bears","","mh1","Mother Bear"
"Ester's Bears","","ktk","Alpine Grizzly"
"Ester's Bears","","dka","Ulvenwald Bear"
"Ester's Bears","","war","Vivien's Grizzly"
"Ester's Bears","","stx","Professor of Zoomancy"
"Ester's Bears","","afr","Owlbear"
"Ester's Bears","","ktk","Awaken the Bear"
"Ester's Bears","","khm","Broken Wings"
"Ester's Bears","","mh1","Savage Swipe"
"Ester's Bears","","mh1","Ayula's Influence"
"Ester's Bears","","jmp","Thriving Grove"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Ester's Bears","","jmp","Forest"
"Rainbow","https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/0/03/JMP_Rainbow_pack_summary_card.jpg","jmp","Maelstrom Archangel"
"Rainbow","","jmp","Chamber Sentry"
"Rainbow","","jmp","Dinrova Horror"
"Rainbow","","jmp","Fusion Elemental"
"Rainbow","","jmp","Raging Regisaur"
"Rainbow","","jmp","Ironroot Warlord"
"Rainbow","","jmp","Alloy Myr"
"Rainbow","","jmp","Skittering Surveyor"
"Rainbow","","jmp","Prismite"
"Rainbow","","jmp","Auger Spree"
"Rainbow","","jmp","Prophetic Prism"
"Rainbow","","jmp","Lawmage's Binding"
"Rainbow","","jmp","Mirrodin's Core"
"Rainbow","","jmp","Rupture Spire"
"Rainbow","","jmp","Forest"
"Rainbow","","jmp","Island"
"Rainbow","","jmp","Mountain"
"Rainbow","","jmp","Plains"
"Rainbow","","jmp","Swamp"
"Rainbow","","jmp","Terramorphic Expanse"`;

        let packs;

        document.getElementById('file-input').addEventListener('change', function() {
            let fileReader = new FileReader();
            fileReader.onload = function() {
                let packs = load(fileReader.result);
                document.getElementById('load-file').insertAdjacentHTML('beforeend', `<p class="text-success">Loaded ${packs.length} packs.</p>`);
            }
            fileReader.readAsText(this.files[0]);
        });

        document.getElementById('esters-cube-button').addEventListener('click', function() {
            let packs = load(estersCube);
            document.getElementById('load-esters-cube').insertAdjacentHTML('beforeend', `<p class="text-success">Loaded ${packs.length} packs.</p>`);
        });

        function load(csv) {
            // Parse CSV
            let rows = csv.split('\n').slice(1).map(row => {
                let columns = row.split(',');
                columns = columns.slice(0, 3).concat(columns.slice(3).join(','));
                columns = columns.map(column => column.substring(1, column.length - 1));
                return columns;
            });
            packs = rows.filter((value, index, array) => {
                return array.indexOf(array.find(row => row[0] == value[0])) == index;
            }).map(row => {
                return {name: row[0], imageURL: row[1]}
            }).map(key => {
                let cards = rows.filter(row => row[0] == key.name).map(row => new Card(row[3], row[2]));
                return new Pack(key.name, key.imageURL, cards);
            });
            console.log(packs);

            // Disable loading
            document.getElementById('file-input').setAttribute('disabled', 'true');
            document.getElementById('esters-cube-button').setAttribute('disabled', true);

            // Open two-pack Jumpstart
            if (packs.length >= 2) {
                shuffle(packs);
                document.getElementById('two-pack').insertAdjacentHTML('beforeend', `<p><img src="${packs[0].imageURL}" alt="${packs[0].name}" style="width: 10em;" /> <img src="${packs[1].imageURL}" alt="${packs[1].name}" style="width: 10em;" /></p>`);
                document.getElementById('two-pack').insertAdjacentHTML('beforeend', `<label for="two-pack-textarea" class="form-label">Deck list</label>`);
                document.getElementById('two-pack').insertAdjacentHTML('beforeend', `<textarea rows="10" readonly id="two-pack-textarea" class="form-control">${getDeckList(packs[0].cards.concat(packs[1].cards))}</textarea>`);
            }

            // Open four-pack Jumpstart
            if (packs.length >= 4) {
                shuffle(packs);
                for (let i = 0; i < 4; i++) {
                    document.getElementById('four-pack').insertAdjacentHTML('beforeend', `<hr class="mt-4" />`);
                    document.getElementById('four-pack').insertAdjacentHTML('beforeend', `<p><img src="${packs[i].imageURL}" alt="${packs[i].name}" style="width: 10em;" /></p>`);
                    document.getElementById('four-pack').insertAdjacentHTML('beforeend', `<label for="four-pack-${i}" class="form-label">Deck list</label>`);
                    document.getElementById('four-pack').insertAdjacentHTML('beforeend', `<textarea rows="5" readonly id="four-pack-${i}" class="form-control mb-3">${getDeckList(packs[i].cards)}</textarea>`);
                }
            }

            return packs;

            function shuffle(packs) {
                for (let i = packs.length -1; i > 0; i--) {
                    let j = Math.floor(Math.random() * i);
                    let k = packs[i];
                    packs[i] = packs[j];
                    packs[j] = k;
                }
            }

            function getDeckList(cards) {
                return cards.map(card => `1 ${card.name} (${card.setID})`).join('\n');
            }
        }

        function Pack(name, imageURL, cards) {
            this.name = name;
            this.imageURL = imageURL;
            this.cards = cards;
        }

        function Card(name, setID) {
            this.name = name;
            this.setID = setID;
        }
    </script>
</body>
</html>
